{% comment %}theme-check-disable UndefinedObject{% endcomment %}

{% comment %}
âœ… GLOBAL SETTINGS APPLIED:
- Colors: site_text_color, site_button_bg_color
- Typography: type_body_font, font_size_base
- Layout: page_width, spacing_sections
{% endcomment %}

{%- liquid
  if section.settings.background_color and section.settings.background_color != blank and section.settings.background_color != ''
    assign footer_bg_color = section.settings.background_color
  else
    assign footer_bg_color = '#ffffff'
  endif

  if section.settings.text_color and section.settings.text_color != blank and section.settings.text_color != ''
    assign footer_text_color = section.settings.text_color
  elsif settings.site_text_color and settings.site_text_color != blank
    assign footer_text_color = settings.site_text_color
  else
    assign footer_text_color = '#000000'
  endif

  if section.settings.link_color and section.settings.link_color != blank and section.settings.link_color != ''
    assign link_color = section.settings.link_color
  else
    assign link_color = footer_text_color
  endif

  if section.settings.link_hover_color and section.settings.link_hover_color != blank and section.settings.link_hover_color != ''
    assign link_hover_color = section.settings.link_hover_color
  elsif settings.site_button_bg_color and settings.site_button_bg_color != blank
    assign link_hover_color = settings.site_button_bg_color
  else
    assign link_hover_color = '#000000'
  endif

  assign font_family = settings.type_body_font.family | default: 'inherit'
  assign font_size_mobile = section.settings.font_size_mobile | default: 16
  assign font_size_desktop = section.settings.font_size_desktop | default: 15
  assign show_policies = section.settings.show_policies
  assign show_credit = section.settings.show_credit
  assign credit_text = section.settings.credit_text | default: 'SITE BY MADE.'
  assign credit_url = section.settings.credit_url | default: 'https://frstsubject.com'
-%}

{%- style -%}
  .footer-{{ section.id }} {
    background: {{ footer_bg_color }} !important;
    color: {{ footer_text_color }} !important;
    font-family: {{ font_family }}, sans-serif;
    font-size: {{ settings.font_size_base | default: 14 }}px;
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .footer-{{ section.id }} {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .footer-{{ section.id }} .footer-nav {
    display: flex;
    margin-bottom: {{ section.settings.nav_spacing }}px;
    margin-top: {{ section.settings.nav_spacing }}px;
  }

  @media (max-width: 500px) {
    .footer-{{ section.id }} .footer-nav {
      flex-direction: column;
      align-items: center;
    }
    .footer-{{ section.id }} .footer-nav a {
      font-size: {{ font_size_mobile }}px;
    }
    .footer-{{ section.id }} .footer-nav a:not(:last-child) {
      margin-bottom: {{ section.settings.link_spacing_mobile }}px;
    }
  }

  @media (min-width: 501px) {
    .footer-{{ section.id }} .footer-nav {
      justify-content: center;
      flex-wrap: wrap;
    }
    .footer-{{ section.id }} .footer-nav a {
      font-size: {{ font_size_desktop }}px;
    }
    .footer-{{ section.id }} .footer-nav a:not(:last-child) {
      margin-right: {{ section.settings.link_spacing_desktop }}px;
    }
  }

  .footer-{{ section.id }} .footer-nav a {
    color: {{ link_color }} !important;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .footer-{{ section.id }} .footer-nav a:hover {
    color: {{ link_hover_color }} !important;
  }

  .footer-{{ section.id }} .copyright {
    text-align: center;
  }

  .footer-{{ section.id }} .copyright__content {
    display: block;
    color: {{ footer_text_color }} !important;
  }

  .footer-{{ section.id }} .bymade {
    margin: {{ section.settings.credit_spacing }}px 0;
    display: block;
  }

  .footer-{{ section.id }} .bymade a {
    color: {{ footer_text_color }} !important;
    text-decoration: none;
    transition: opacity 0.2s ease;
  }

  .footer-{{ section.id }} .bymade a:hover {
    opacity: 0.7;
  }
{%- endstyle -%}

<footer class="footer footer-{{ section.id }}" role="contentinfo">
  {%- if show_policies -%}
    <div class="page-width" style="max-width: {{ settings.page_width | default: 1200 }}px;">
      <div class="footer-nav">
        {%- for policy in shop.policies -%}
          {%- if policy != blank -%}
            <a href="{{ policy.url }}">{{ policy.title }}</a>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  {%- endif -%}

  <div class="copyright">
    <small class="copyright__content" style="margin: {{ section.settings.copyright_spacing }}px 0;">
      &copy; {{ 'now' | date: "%Y" }}, {{ section.settings.store_name | default: shop.name }}
    </small>
    {%- if show_credit -%}
      <small class="copyright__content bymade">
        <a href="{{ credit_url }}">{{ credit_text }}</a>
      </small>
    {%- endif -%}
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "store_name",
      "label": "Store Name",
      "info": "Leave blank to use your shop name",
      "default": "COZY WW"
    },
    {
      "type": "checkbox",
      "id": "show_policies",
      "label": "Show Policy Links",
      "info": "Displays links to policies configured in Shopify Settings > Policies",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_credit",
      "label": "Show Credit Link",
      "default": true
    },
    {
      "type": "text",
      "id": "credit_text",
      "label": "Credit Text",
      "default": "NGAGE By FRST MADE."
    },
    {
      "type": "url",
      "id": "credit_url",
      "label": "Credit URL"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "info": "Leave blank to use white (#ffffff)"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "info": "Leave blank to use global site text color"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "Link Color",
      "info": "Leave blank to use text color"
    },
    {
      "type": "color",
      "id": "link_hover_color",
      "label": "Link Hover Color",
      "info": "Leave blank to use global button color"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "font_size_mobile",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Mobile)",
      "default": 16
    },
    {
      "type": "range",
      "id": "font_size_desktop",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font Size (Desktop)",
      "default": 15
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 36
    },
    {
      "type": "range",
      "id": "nav_spacing",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Navigation Spacing (Top/Bottom)",
      "default": 10
    },
    {
      "type": "range",
      "id": "link_spacing_mobile",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Link Spacing (Mobile)",
      "default": 8
    },
    {
      "type": "range",
      "id": "link_spacing_desktop",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Link Spacing (Desktop)",
      "default": 12
    },
    {
      "type": "range",
      "id": "copyright_spacing",
      "min": 0,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Copyright Spacing",
      "default": 9
    },
    {
      "type": "range",
      "id": "credit_spacing",
      "min": 0,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Credit Link Spacing",
      "default": 5
    }
  ],
  "presets": [
    {
      "name": "Footer"
    }
  ]
}
{% endschema %}
