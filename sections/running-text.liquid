{% comment %}
âœ… GLOBAL SETTINGS APPLIED:
- Typography: font_picker for font selection, custom font family support
- Colors: Custom text and background colors
- Spacing: Letter spacing, line height controls
- Font Controls: Size, transform, weight
{% endcomment %}

{% if section.settings.running_text != blank and section.settings.show_runningtext %}
  <section class="running-text" style="background-color: {{ section.settings.background_color }}; color: {{ section.settings.text_color }}">
    <div class="running-text-container">
      <span class="running-text-content">{{ section.settings.running_text }}</span>
    </div>
  </section>
{% endif %}

<style>

  .running-text {
    padding: 5px;
    overflow: hidden;
    white-space: nowrap;
  }
  
  .running-text-container {
    animation: marquee 20s linear infinite;
    display: inline-block;
    padding-left: 100%;
  }
  
  .running-text-content {
    display: inline-block;
    padding-right: 100%;
    text-transform: {{section.settings.runningfont_transform}};
    font-size: {{section.settings.runningfont_size}}px;
    {% if section.settings.custom_font_family != blank %}
    font-family: {{ section.settings.custom_font_family }};
    {% else %}
    font-family: {{ section.settings.font_family.family }}, {{ section.settings.font_family.fallback_families }};
    font-weight: {{ section.settings.font_family.weight }};
    {% endif %}
    letter-spacing: {{ section.settings.letter_spacing }}px;
    line-height: {{ section.settings.line_height }};
  }
  span.running-text-content {
    color: {{ section.settings.text_color }} !important;
  }
  
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100%);
    }
  }
</style>

{% schema %}
  {
    "name": "Running Text",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_runningtext",
        "label": "Show Running Text",
        "default": true
      },
      {
        "type": "text",
        "id": "running_text",
        "label": "Running Text",
        "default": "Welcome to our website"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#000000"
      },
      {
      "type": "header",
      "content": "Typography Settings"
    },
    {
      "type": "font_picker",
      "id": "font_family",
      "label": "Font Family",
      "default": "assistant_n4",
      "info": "Select a font from Shopify's font library"
    },
    {
      "type": "text",
      "id": "custom_font_family",
      "label": "Custom Font Family (Optional)",
      "info": "Enter custom font family name (e.g., 'Arial, sans-serif'). This will override the font picker if provided.",
      "placeholder": "e.g., 'Helvetica Neue, Arial, sans-serif'"
    },
    {
      "type": "range",
      "id": "runningfont_size",
      "label": "Font Size",
      "default": 12,
      "min": 8,
      "max": 50,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "letter_spacing",
      "label": "Letter Spacing",
      "default": 0,
      "min": -2,
      "max": 10,
      "step": 0.5,
      "unit": "px",
      "info": "Adjust space between letters"
    },
    {
      "type": "range",
      "id": "line_height",
      "label": "Line Height",
      "default": 1.2,
      "min": 0.8,
      "max": 3,
      "step": 0.1,
      "info": "Adjust vertical spacing"
    },
    {
      "type": "select",
      "id": "runningfont_transform",
      "label": "Text Transform",
      "default": "uppercase",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ]
    }

  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}